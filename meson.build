project(
  'raytracer',
  'c',
  version: '1.0.0',
  default_options: ['c_std=c11', 'warning_level=3'],
)

inc = include_directories('include')

cc = meson.get_compiler('c')
m_dep = cc.find_library('m', required: true)
thread_dep = dependency('threads')

src_files = [
  'src/main.c',
  'src/camera.c',
  'src/hittable.c',
  'src/hittable_list.c',
  'src/interval.c',
  'src/material.c',
  'src/ppm.c',
  'src/ray.c',
  'src/sphere.c',
  'src/utils.c',
  'src/vec.c',
]

executable(
  'raytracer',
  src_files,
  include_directories: inc,
  dependencies: [m_dep, thread_dep],
  link_args: ['-L' + meson.current_source_dir() + '/lib'],
  install: true,
)
